<?xml version="1.0"?>

<!--L
   Copyright SAIC, Ellumen and RSNA (CTP)


   Distributed under the OSI-approved BSD 3-Clause License.
   See http://ncip.github.com/national-biomedical-image-archive/LICENSE.txt for details.
L-->

<!--!DOCTYPE ejb-jar PUBLIC
"-//Sun Microsystems, Inc.//DTD Enterprise JavaBeans 2.0//EN"
"http://java.sun.com/dtd/ejb-jar_2_0.dtd">
<ejb-jar-->
<ejb-jar xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns="http://java.sun.com/xml/ns/javaee" xmlns:ejb="http://java.sun.com/xml/ns/javaee/ejb-jar_3_0.xsd"
	xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/ejb-jar_3_1.xsd"
	version="3.1">

  <enterprise-beans>
     <message-driven>
    <ejb-name>ImageZippingMDB</ejb-name>
    <ejb-class>gov.nih.nci.nbia.jms.ImageZippingMDB</ejb-class>
    <transaction-type>Bean</transaction-type>

    
    <!-- To work with Wildfly 8.1.0 -->
        <!--acknowledge-mode>AUTO_ACKNOWLEDGE</acknowledge-mode-->
        <!--message-driven-destination>
              <destination-type>javax.jms.Queue</destination-type>
        </message-driven-destination-->
        <message-destination-type>javax.jms.Queue</message-destination-type>
        <activation-config>
                <activation-config-property>
    		<activation-config-property-name>acknowledgeMode</activation-config-property-name>
    		<activation-config-property-value>Auto-acknowledge</activation-config-property-value>
        </activation-config-property>
                <!--activation-config-property>
    		<activation-config-property-name>destinationType</activation-config-property-name>
    		<activation-config-property-value>javax.jms.Queue</activation-config-property-value>
                </activation-config-property-->
    	    <!--activation-config-property>
    		<activation-config-property-name>destination</activation-config-property-name>
    		<activation-config-property-value>java:/queue/imageQueue</activation-config-property-value>
    	    </activation-config-property-->
    	    
	<activation-config-property>
		<activation-config-property-name>destination</activation-config-property-name>
		<activation-config-property-value>jms/QCF</activation-config-property-value>
	</activation-config-property>
	<activation-config-property>
		<activation-config-property-name>destinationType</activation-config-property-name>
		<activation-config-property-value>javax.jms.QueueConnectionFactory</activation-config-property-value>
	</activation-config-property>   	    
	</activation-config>
          
    <!--resource-ref>
      <res-ref-name>jms/QCF</res-ref-name>
      <res-type>javax.jms.QueueConnectionFactory</res-type>
      <res-auth>Container</res-auth>
    </resource-ref-->
        <!-- -->
  </message-driven>
  </enterprise-beans>
</ejb-jar>